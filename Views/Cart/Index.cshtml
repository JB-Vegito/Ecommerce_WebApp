@* @model int; *@
@{
    ViewData["Title"] = "Cart";
}
<head>
    <link rel="stylesheet" href="~/css/bootsWatch.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="~/ecommerce_web.styles.css" asp-append-version="true" />
    <style>
        span a{
            margin-right:2rem;
        }
    </style>
</head>
<body>  
    
    <div class="container pt-2 pb-5 px-5">
        <hr class="border border-dark border-1 ">
        <h1 class="mb-2 ms-3 row">Cart</h1>
        <hr class="border border-dark border-1 ">
                <div class="row mb-4 mt-3" style=float:right;>
        </div>  
        <table class="table table-hover table-bordered" id="dataTable">
            <thead>
                <tr class="table-dark">
                    <th scope="col">Cart ID</th>
                    <th scope="col">Product Name</th>
                    <th scope="col">Quantity</th>
                    <th></th>
                    <th></th>
                </tr>            
            </thead>
        </table> 
        <div class="row mt-5">
            <div class="col-sm-6">
                <h2 class="mt-3">Total Price: &nbsp;  â‚¹ <span id="price">@ViewBag.price</span></h2>    
            </div>
            <div class="col-sm-6">
                <a asp-area="" asp-controller="Order" asp-action="Index">
                    <button id="checkout" class="btn btn-lg btn-primary btn-outline-light py-4" style="margin-left:12rem;">Checkout &nbsp; <i class="bi bi-bag-check"></i></button>
                </a>
            </div>
        </div>
        

    </div>
</body>

@section Scripts{
    <script src="~/js/cart3.js"></script>
    <script>
        window.onload=function(){
            const price = document.getElementById("price");
            const checkout = document.getElementById("checkout");
            const productPrice = parseInt(price.textContent);
            const new_price = productPrice.toLocaleString();
            price.textContent = new_price;            

            if(price.textContent==0){
                checkout.style.display = "none";                
            }
        }
    </script>
}